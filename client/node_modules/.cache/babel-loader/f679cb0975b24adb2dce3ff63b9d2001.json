{"ast":null,"code":"import _objectSpread from\"/Users/antonyarreola/Documents/GitHub/portfolio/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/antonyarreola/Documents/GitHub/portfolio/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectDestructuringEmpty from\"/Users/antonyarreola/Documents/GitHub/portfolio/client/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\";import React from'react';import{useState}from'react';import\"./SubmitForm.css\";import ButtonLoader from\"./ButtonLoader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SubmitForm(_ref){_objectDestructuringEmpty(_ref);var _useState=useState({name:\"\",email:\"\",message:\"\"}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];function onNameChange(event){console.log(\"name change\");setForm(_objectSpread(_objectSpread({},form),{},{name:event.target.value}));}function onEmailChange(event){setForm(_objectSpread(_objectSpread({},form),{},{email:event.target.value}));}function onMessageChange(event){setForm(_objectSpread(_objectSpread({},form),{},{message:event.target.value}));}function handleSubmit(event){event.preventDefault();console.log(JSON.stringify(form));fetchData();fetch('/send',{method:\"POST\",body:JSON.stringify(form),headers:{'Accept':'application/json','Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(response){if(response.status==='success'){alert(\"Message Sent.\");resetForm();fetchData();}else if(response.status==='fail'){alert(\"Message failed to send.\");}});}function resetForm(){setForm(_objectSpread(_objectSpread({},form),{},{name:\"\",email:\"\",message:\"\"}));}var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];function fetchData(){setLoading(!loading);//Faking API call here\nsetTimeout(function(){setLoading(false);},2000);};return/*#__PURE__*/_jsx(\"div\",{className:\" page submit-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"page-bubble bubble3\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Contact Me\"}),/*#__PURE__*/_jsxs(\"form\",{id:\"contact-form\",method:\"POST\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control name\",placeholder:\"Name..\",value:form.name,onChange:onNameChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control email\",placeholder:\"Email..\",value:form.email,onChange:onEmailChange,\"aria-describedby\":\"emailHelp\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"message\",children:\"Message\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control message\",rows:\"5\",placeholder:\"Message..\",value:form.message,onChange:onMessageChange})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"submit\",disabled:loading,children:[loading&&/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-refresh fa-spin\",style:{marginRight:\"5px\"}}),loading&&/*#__PURE__*/_jsx(\"span\",{children:\"Sending...\"}),!loading&&/*#__PURE__*/_jsx(\"span\",{children:\"Submit\"})]})]})]})});}export default SubmitForm;","map":{"version":3,"names":["React","useState","ButtonLoader","SubmitForm","name","email","message","form","setForm","onNameChange","event","console","log","target","value","onEmailChange","onMessageChange","handleSubmit","preventDefault","JSON","stringify","fetchData","fetch","method","body","headers","then","response","json","status","alert","resetForm","loading","setLoading","setTimeout","marginRight"],"sources":["/Users/antonyarreola/Documents/GitHub/portfolio/client/src/pages/SubmitForm.js"],"sourcesContent":["import React from 'react';\nimport {useState} from 'react';\nimport \"./SubmitForm.css\";\nimport ButtonLoader from \"./ButtonLoader\";\nfunction SubmitForm({}) {\n    \n    const [form,setForm] = useState({\n        name: \"\",\n        email: \"\",\n        message:\"\",\n    });\n    function onNameChange(event) {\n        console.log(\"name change\");\n        setForm({...form,name:event.target.value});\n    }\n  \n   function onEmailChange(event) {\n        setForm({...form, email: event.target.value});\n    }\n  \n    function onMessageChange(event){\n        setForm({...form, message:event.target.value});\n    }\n    function handleSubmit ( event ) {\n        event.preventDefault();\n        \n        console.log(JSON.stringify(form));\n        fetchData();\n        fetch('/send', {\n            method: \"POST\",\n            body: JSON.stringify(form),\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json'\n            },\n          }).then(\n          (response) => (response.json())\n            ).then((response)=> {\n          if (response.status === 'success') {\n            alert(\"Message Sent.\");\n            resetForm();\n            fetchData();\n          } else if(response.status === 'fail') {\n            alert(\"Message failed to send.\")\n          }\n        })\n      }\n      function resetForm(){\n          setForm({...form,name:\"\",email:\"\",message:\"\"});\n      }\n      const [loading,setLoading] = useState(false);\n      function fetchData (){\n        setLoading( !loading );\n    \n        //Faking API call here\n        setTimeout(() => {\n          setLoading( false );\n        }, 2000);\n      };\n    return (\n        <div className=\" page submit-container\">\n        \n        <div className = \"page-bubble bubble3\">\n                <h2>Contact Me</h2>\n                <form id=\"contact-form\" method=\"POST\" onSubmit = {handleSubmit}>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"name\">Name</label>\n                        <input type=\"text\" className=\"form-control name\" placeholder = \"Name..\"value ={form.name}onChange = {onNameChange}/>\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"exampleInputEmail1\">Email address</label>\n                        <input type=\"email\" className=\"form-control email\" placeholder = \"Email..\" value ={form.email}onChange = {onEmailChange}aria-describedby=\"emailHelp\" />\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"message\">Message</label>\n                        <textarea className=\"form-control message\" rows=\"5\" placeholder = \"Message..\" value ={form.message} onChange = {onMessageChange}></textarea>\n                    </div>\n                    \n                    <button  type=\"submit\" className=\"submit\" disabled={loading}>\n          {loading && (\n            <i\n              className=\"fa fa-refresh fa-spin\"\n              style={{ marginRight: \"5px\" }}\n            />\n          )}\n          {loading && <span>Sending...</span>}\n          {!loading && <span>Submit</span>}\n        </button>\n                    \n                </form>\n                 \n           </div>\n          \n            \n        </div>\n            \n      \n    )\n   \n}\n\nexport default SubmitForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}